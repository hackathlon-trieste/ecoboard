<!DOCTYPE html>
<html>
    <head>
        <title>EcoBoard</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
    </head>
    <body>
        <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        <!--<div id="container" style="min-width: 3000px; height: 400px; margin: 0 auto"></div>-->
        <script>
            $(function () {
                $.getJSON('../template1/ajax/richieste.php?cosa=telecamere_euro&quale=1', function (data) {
                    
                    console.log(data);
                    
                    $('#container').highcharts({
                        chart: {
                            type: 'column'
                        },
                        title: {
                            //text: 'Stacked column chart'
                        },
                        xAxis: {
                            type: 'datetime'
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                //text: 'Total fruit consumption'
                            },
                            stackLabels: {
                                enabled: false,
                                style: {
                                    fontWeight: 'bold',
                                    color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                                }
                            }
                        },
                        legend: {
                            align: 'right',
                            x: -30,
                            verticalAlign: 'top',
                            y: 25,
                            floating: true,
                            backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                            borderColor: '#CCC',
                            borderWidth: 1,
                            shadow: false
                        },
                        tooltip: {
                            headerFormat: '<b>{point.x}</b><br/>',
                            pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
                        },
                        plotOptions: {
                            column: {
                                stacking: 'normal',
                                dataLabels: {
                                    enabled: true,
                                    color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                                    style: {
                                        textShadow: '0 0 3px black'
                                    }
                                }
                            }
                        },
                        series: [{
                            name: 'E1',
                            data: data.E1
                        }, {
                            name: 'E2',
                            data: data.E2
                        }, {
                            name: 'E3',
                            data: data.E3
                        }, {
                            name: 'E4',
                            data: data.E4
                        }, {
                            name: 'E5',
                            data: data.E5
                        }]
                        /*
                        series: [{
                            name: 'John',
                            data: [3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12]
                        }, {
                            name: 'Jane',
                            data: [1, 3, 4, 3, 3, 5, 4, 1, 3, 4, 3, 3, 5, 4, 1, 3, 4, 3, 3, 5, 4, 3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12, 3, 4, 3, 5, 4, 10, 12]
                        }]
                        */
                    });
                });
                    /*
                    $('#container').highcharts({
                        chart: {
                            //type: 'areaspline'
                            type: 'stackedcolumn'
                            
                        },
                        title: {
                            text: 'Average fruit consumption during one week'
                        },
                        legend: {
                            layout: 'vertical',
                            align: 'left',
                            verticalAlign: 'top',
                            x: 150,
                            y: 100,
                            floating: true,
                            borderWidth: 1,
                            backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                        },
                        xAxis: {
                            type: 'datetime',
                            
                            plotBands: [{ // visualize the weekend
                                from: 4.5,
                                to: 6.5,
                                color: 'rgba(68, 170, 213, .2)'
                            }]
                        },
                        yAxis: {
                            title: {
                                text: 'Fruit units'
                            }
                        },
                        tooltip: {
                            shared: true,
                            valueSuffix: ' units'
                        },
                        credits: {
                            enabled: false
                        },
                        plotOptions: {
                            areaspline: {
                                fillOpacity: 0.5
                            }
                        },
                        series: [{
                            name: 'Totale',
                            data: null
                        }, {
                            name: 'E1',
                            data: data.E1
                        }, {
                            name: 'E2',
                            data: data.E2
                        }, {
                            name: 'E3',
                            data: data.E3
                        }, {
                            name: 'E4',
                            data: data.E4
                        }, {
                            name: 'E5',
                            data: data.E5
                        }, {
                            name: 'Ambiente',
                            data: null
                        }]
                    });
                    */
            });
        </script>
    </body>
</html>